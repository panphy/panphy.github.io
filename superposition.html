<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wave Superposition Simulation</title>
    <style>
        /* Reset and Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #2c2c2c;
            color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        h1 {
            margin-bottom: 20px;
            color: #20c997;
            text-align: center;
        }

        /* Controls Container */
        #controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            margin-bottom: 20px;
        }

	   @media (max-width: 768px) {
	       .wave-controls, .toggle-controls {
	           height: auto; /* Automatically adjust height for smaller screens */
	       }
	    }

        /* Wave Controls */
        .wave-controls {
            background-color: #3a3a3a;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            gap: 15px;
        }

        .wave-controls h3 {
            margin-bottom: 10px;
            color: #f0f0f0;
            text-align: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-group label {
            margin-bottom: 5px;
            font-weight: 500;
        }

        .control-group input[type=range] {
            width: 100%;
            cursor: pointer;
            -webkit-appearance: none;
            background: transparent;
        }

        /* Slider Styling */
        input[type=range] {
            height: 8px;
            border-radius: 5px;
            background: #888;
            outline: none;
            transition: background 0.3s;
        }

        input[type=range]:hover {
            background: #a0a0a0;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #20c997;
            cursor: pointer;
            transition: background 0.3s;
            border: none;
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
        }

        input[type=range]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #20c997;
            cursor: pointer;
            transition: background 0.3s;
            border: none;
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
        }

        /* Toggle Controls */
        .toggle-controls {
            background-color: #3a3a3a;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            gap: 15px;
        }

        .toggle-controls h3 {
            margin-bottom: 10px;
            color: #f0f0f0;
            text-align: center;
        }

        .toggle-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .toggle-group label {
            font-weight: 500;
            color: #f0f0f0;
            cursor: pointer;
        }

        /* Switch Styling */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider-switch {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 26px;
        }

        .slider-switch:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: #f0f0f0;
            transition: 0.4s;
            border-radius: 50%;
        }

        .switch input:checked + .slider-switch {
            background-color: #20c997;
        }

        .switch input:checked + .slider-switch:before {
            transform: translateX(24px);
        }

        /* Play/Pause Button */
        #playPauseBtn {
            padding: 12px 24px;
            font-size: 16px;
            background-color: #20c997;
            color: #2c2c2c;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }

        #playPauseBtn:hover {
            background-color: #138f75;
            transform: scale(1.05);
        }

        /* Canvas Container */
        #canvasContainer {
            width: 100%;
            max-width: 1200px;
            background-color: #3a3a3a;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
        }

        canvas {
            width: 100%;
            height: 500px;
            border-radius: 8px;
            background-color: #1e1e1e;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            #controls {
                grid-template-columns: 1fr;
            }

            canvas {
                height: 300px;
            }
        }
    </style>
</head>
<body>

    <h1>Wave Superposition Simulation</h1>

    <div id="controls">
        <!-- Wave 1 Controls -->
        <div class="wave-controls">
            <h3>Wave 1 (Left to Right)</h3>
            <div class="control-group">
                <label for="amplitude1">Amplitude: <span id="amplitude1Value">50</span> px</label>
                <input type="range" id="amplitude1" min="10" max="100" value="50">
            </div>
            <div class="control-group">
                <label for="frequency1">Frequency: <span id="frequency1Value">1</span> Hz</label>
                <input type="range" id="frequency1" min="0.1" max="5" step="0.1" value="1">
            </div>
            <div class="control-group">
                <label for="speed1">Wave Speed: <span id="speed1Value">50</span> px/s</label>
                <input type="range" id="speed1" min="10" max="200" step="10" value="50">
            </div>
        </div>

        <!-- Wave 2 Controls -->
        <div class="wave-controls">
            <h3>Wave 2 (Right to Left)</h3>
            <div class="control-group">
                <label for="amplitude2">Amplitude: <span id="amplitude2Value">50</span> px</label>
                <input type="range" id="amplitude2" min="10" max="100" value="50">
            </div>
            <div class="control-group">
                <label for="frequency2">Frequency: <span id="frequency2Value">1</span> Hz</label>
                <input type="range" id="frequency2" min="0.1" max="5" step="0.1" value="1">
            </div>
            <div class="control-group">
                <label for="speed2">Wave Speed: <span id="speed2Value">50</span> px/s</label>
                <input type="range" id="speed2" min="10" max="200" step="10" value="50">
            </div>
        </div>

        <!-- Zoom and Motion Controls -->
        <div class="wave-controls">
            <h3>Zoom and Motion</h3>
            <div class="control-group">
                <label for="timeZoom">Zoom: <span id="timeZoomValue">1</span>x</label>
                <input type="range" id="timeZoom" min="0.1" max="10" step="0.1" value="1">
            </div>
            <div class="control-group">
                <label for="timeMotion">Motion Speed: <span id="timeMotionValue">1</span>x</label>
                <input type="range" id="timeMotion" min="0.05" max="2" step="0.05" value="1">
            </div>
        </div>

        <!-- Toggle Controls -->
        <div class="toggle-controls">
            <h3>Toggle Waves</h3>
            <div class="toggle-group">
                <label for="toggleWave1">Show Wave 1 (Blue)</label>
                <label class="switch">
                    <input type="checkbox" id="toggleWave1" checked>
                    <span class="slider-switch"></span>
                </label>
            </div>
            <div class="toggle-group">
                <label for="toggleWave2">Show Wave 2 (Orange)</label>
                <label class="switch">
                    <input type="checkbox" id="toggleWave2">
                    <span class="slider-switch"></span>
                </label>
            </div>
            <div class="toggle-group">
                <label for="toggleSuperposition">Show Superposition (Green)</label>
                <label class="switch">
                    <input type="checkbox" id="toggleSuperposition">
                    <span class="slider-switch"></span>
                </label>
            </div>
        </div>
    </div>

    <button id="playPauseBtn">Pause</button>

    <div id="canvasContainer">
        <canvas id="waveCanvas" width="1200" height="500"></canvas>
    </div>

    <script>
// Get references to HTML elements
const canvas = document.getElementById('waveCanvas');
const ctx = canvas.getContext('2d');

const playPauseBtn = document.getElementById('playPauseBtn');

// Wave 1 controls
const amplitude1Slider = document.getElementById('amplitude1');
const frequency1Slider = document.getElementById('frequency1');
const speed1Slider = document.getElementById('speed1');

const amplitude1Value = document.getElementById('amplitude1Value');
const frequency1Value = document.getElementById('frequency1Value');
const speed1Value = document.getElementById('speed1Value');

// Wave 2 controls
const amplitude2Slider = document.getElementById('amplitude2');
const frequency2Slider = document.getElementById('frequency2');
const speed2Slider = document.getElementById('speed2');

const amplitude2Value = document.getElementById('amplitude2Value');
const frequency2Value = document.getElementById('frequency2Value');
const speed2Value = document.getElementById('speed2Value');

// Zoom and Motion controls
const timeZoomSlider = document.getElementById('timeZoom');
const timeZoomValue = document.getElementById('timeZoomValue');

const timeMotionSlider = document.getElementById('timeMotion');
const timeMotionValue = document.getElementById('timeMotionValue');

// Toggle controls
const toggleWave1 = document.getElementById('toggleWave1');
const toggleWave2 = document.getElementById('toggleWave2');
const toggleSuperposition = document.getElementById('toggleSuperposition');

// Initialize wave parameters
let amplitude1 = parseFloat(amplitude1Slider.value);
let frequency1 = parseFloat(frequency1Slider.value);
let speed1 = parseFloat(speed1Slider.value);

let amplitude2 = parseFloat(amplitude2Slider.value);
let frequency2 = parseFloat(frequency2Slider.value);
let speed2 = parseFloat(speed2Slider.value);

let timeZoom = parseFloat(timeZoomSlider.value);
let timeMotion = parseFloat(timeMotionSlider.value);

// Update slider display values
function updateSliderValues() {
    amplitude1Value.textContent = amplitude1;
    frequency1Value.textContent = frequency1;
    speed1Value.textContent = speed1;

    amplitude2Value.textContent = amplitude2;
    frequency2Value.textContent = frequency2;
    speed2Value.textContent = speed2;

    timeZoomValue.textContent = timeZoom.toFixed(1);
    timeMotionValue.textContent = timeMotion.toFixed(2);
}

updateSliderValues();

// Event listeners for sliders
amplitude1Slider.addEventListener('input', function () {
    amplitude1 = parseFloat(this.value);
    updateSliderValues();
});

frequency1Slider.addEventListener('input', function () {
    frequency1 = parseFloat(this.value);
    updateSliderValues();
});

speed1Slider.addEventListener('input', function () {
    speed1 = parseFloat(this.value);
    updateSliderValues();
});

amplitude2Slider.addEventListener('input', function () {
    amplitude2 = parseFloat(this.value);
    updateSliderValues();
});

frequency2Slider.addEventListener('input', function () {
    frequency2 = parseFloat(this.value);
    updateSliderValues();
});

speed2Slider.addEventListener('input', function () {
    speed2 = parseFloat(this.value);
    updateSliderValues();
});

timeZoomSlider.addEventListener('input', function () {
    timeZoom = parseFloat(this.value);
    updateSliderValues();
});

timeMotionSlider.addEventListener('input', function () {
    timeMotion = parseFloat(this.value);
    updateSliderValues();
});

// Animation variables
let animationId; // Stores the ID of the animation frame
let running = true; // Tracks whether the animation is running
let accumulatedTime = 0; // Keeps track of total elapsed time

// Function to draw waves
function drawWaves(elapsed) {
    const adjustedTime = accumulatedTime * timeMotion;

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw baseline
    ctx.beginPath();
    ctx.moveTo(0, canvas.height / 2);
    ctx.lineTo(canvas.width, canvas.height / 2);
    ctx.strokeStyle = '#555';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Parameters for Wave 1 (Left to Right)
    const A1 = amplitude1;
    const f1 = frequency1;
    const v1 = speed1;
    const omega1 = 2 * Math.PI * f1;
    const k1 = (2 * Math.PI * f1 / v1) / timeZoom;

    // Parameters for Wave 2 (Right to Left)
    const A2 = amplitude2;
    const f2 = frequency2;
    const v2 = speed2;
    const omega2 = 2 * Math.PI * f2;
    const k2 = (2 * Math.PI * f2 / v2) / timeZoom;

    const t = adjustedTime / 1000; // Convert time to seconds

    // Draw Wave 1 (Blue) if toggled on
    if (toggleWave1.checked) {
        ctx.beginPath();
        for (let x = 0; x <= canvas.width; x++) {
            const y1 = A1 * Math.sin(k1 * x - omega1 * t);
            const canvasY = canvas.height / 2 - y1;
            if (x === 0) {
                ctx.moveTo(x, canvasY);
            } else {
                ctx.lineTo(x, canvasY);
            }
        }
        ctx.strokeStyle = '#99ceff';
        ctx.lineWidth = 1.5;
        ctx.stroke();
    }

    // Draw Wave 2 (Orange) if toggled on
    if (toggleWave2.checked) {
        ctx.beginPath();
        for (let x = 0; x <= canvas.width; x++) {
            const y2 = A2 * Math.sin(k2 * x + omega2 * t);
            const canvasY = canvas.height / 2 - y2;
            if (x === 0) {
                ctx.moveTo(x, canvasY);
            } else {
                ctx.lineTo(x, canvasY);
            }
        }
        ctx.strokeStyle = '#ff9649';
        ctx.lineWidth = 1.5;
        ctx.stroke();
    }

    // Draw Superimposed Wave (Green) if toggled on
    if (toggleSuperposition.checked) {
        ctx.beginPath();
        for (let x = 0; x <= canvas.width; x++) {
            const y1 = A1 * Math.sin(k1 * x - omega1 * t);
            const y2 = A2 * Math.sin(k2 * x + omega2 * t);
            const y = y1 + y2;
            const canvasY = canvas.height / 2 - y;
            if (x === 0) {
                ctx.moveTo(x, canvasY);
            } else {
                ctx.lineTo(x, canvasY);
            }
        }
        ctx.strokeStyle = '#54f372';
        ctx.lineWidth = 2.5;
        ctx.stroke();
    }
}

// Animation loop
function animate(timestamp) {
    if (!running) return; // Stop animation when paused

    accumulatedTime += timestamp - (lastTimestamp || timestamp); // Accumulate elapsed time
    drawWaves(accumulatedTime);

    lastTimestamp = timestamp; // Update last timestamp
    animationId = requestAnimationFrame(animate); // Schedule the next frame
}

// Play/Pause button logic
playPauseBtn.addEventListener('click', function () {
    if (running) {
        cancelAnimationFrame(animationId); // Stop the animation
        playPauseBtn.textContent = 'Play';
    } else {
        lastTimestamp = 0; // Reset timestamp for smooth resumption
        animationId = requestAnimationFrame(animate); // Resume the animation
        playPauseBtn.textContent = 'Pause';
    }
    running = !running; // Toggle the running state
});

// Start the animation
let lastTimestamp = 0;
animationId = requestAnimationFrame(animate);
    </script>
</body>
</html>